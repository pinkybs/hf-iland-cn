<?php

define('ROOT_DIR', realpath('../'));

require(ROOT_DIR . '/bin/config.php');

try {
		$uidlist = array(8650,13210,20410,23770,48490,58570,118330,123850,127450,137290,138730,197050,220810,285370,292570,296170,324730,348010,356650,412810,419290,435850,477130,504970,544810,569050,570970,593290,610330,662890,712570,725530,730090,743050,785770,852250,860410,888490,913690,917530,922810,984010,1008010,1047130,1054810,1105930,1154650,1201450,1263370,1313290,1340890,1394890,1399690,1409530,1444330,1485610,1506250,1511290,1516090,1519690,1546810,1613290,1625290,1637290,1639450,1669690,1690090,1727050,1772650,1803130,1857850,1883290,1895050,1900810,1977850,2019850,2024890,2031370,2085850,2105770,2130010,2140330,2170330,2189290,2220250,2232490,2256490,2261290,2266090,2304730,2333290,2422570,2433130,2451610,2496970,2538250,2607130,2618890,2735530,2765770,2778970,2819770,2854570,2929450,3007210,3012250,3055210,3102010,3126730,3150010,3182170,3213850,3252970,3318250,3323050,3346330,3352330,3449290,3465370,3479530,3520810,3525130,3567610,3607930,3627370,3709450,3731050,3809530,3818890,3822970,3893050,3975370,3981370,3990970,4006090,4012570,4013290,4015690,4072090,4089370,4101370,4114330,4149130,4181290,4182490,4189450,4196170,4199530,4222330,4241050,4246090,4266010,4386970,4454410,4484410,4497850,4499770,4502890,4564330,4600570,4634170,4653370,4715770,4725130,4733290,4741930,4764730,4826890,4830730,4880890,4881370,4899130,4915930,4977850,5008810,5021290,5066410,5104090,5159050,5227450,23554,32434,62194,68914,82594,116914,151954,194914,197554,216034,226594,312994,358354,367714,410674,414754,432274,462754,486994,493234,524674,566434,570994,677074,711154,771874,775474,802834,804514,827074,848674,857074,858274,891394,893794,974914,986434,1037794,1039714,1042594,1060114,1090114,1175794,1185634,1235314,1263154,1282114,1282594,1336114,1389394,1389874,1410754,1434514,1487314,1523074,1545634,1624834,1645954,1663714,1669954,1697794,1748914,1789234,1803394,1827634,1841314,1852114,1923394,1935634,1935874,2000434,2020834,2086354,2088514,2090194,2131714,2225074,2244994,2253634,2274994,2278354,2280754,2328754,2328994,2367394,2397634,2462434,2489314,2603314,2620354,2635234,2658754,2720194,2724754,2726914,2740594,2747074,2754274,2764594,2770594,2793394,2795314,2806354,2828674,2852674,2904754,2921314,2966434,3010114,3066514,3197314,3209554,3232354,3329314,3385714,3432034,3437314,3511954,3601234,3612034,3756994,3858034,3879874,3881554,3881794,3936034,3972754,4058674,4107154,4110994,4139794,4157554,4295314,4336354,4353634,4376434,4382914,4443394,4459234,4463554,4471714,4506034,4511074,4555714,4592914,4619794,4640434,4643074,4652674,4702594,4706674,4714834,4805314,4981234,5009554,5130514,5176834,26218,49498,53338,54538,81658,127018,223738,257338,276778,298378,304138,315658,360058,373498,378778,442138,443338,493258,497098,513658,517978,559018,582778,588538,598618,629338,664138,687658,713098,714778,742378,754138,868618,885418,900298,919018,939178,982618,1037578,1044058,1051498,1059658,1060858,1068298,1108378,1125898,1228858,1239418,1260538,1267018,1325818,1361818,1390378,1474858,1497658,1536298,1541818,1558378,1571818,1671418,1708618,1724938,1729738,1796458,1813738,1819018,1852858,1864378,1875418,1899418,1931338,1969498,1990858,1998778,2037178,2047498,2093578,2134618,2136778,2180458,2270458,2314138,2400058,2421418,2424778,2436778,2444218,2476138,2477578,2495578,2512138,2522698,2535178,2535898,2545018,2594218,2601658,2619658,2622538,2676058,2733178,2742538,2743018,2752858,2891338,2969098,3001738,3028858,3046858,3050938,3151978,3166618,3428218,3436138,3441178,3475738,3513658,3521818,3592618,3626698,3633418,3649738,3668218,3698218,3723178,3782938,3796138,3805258,3814378,3817018,3817738,3894298,3974458,4001578,4012858,4045258,4141738,4183738,4186378,4257898,4296058,4318378,4351258,4392058,4397578,4401418,4412458,4440298,4495498,4539418,4615498,4647898,4694698,4708618,4736938,4849018,4868698,4875658,4878298,5014138,5030458,5066458,5075578);
		$cache = Hapyfish2_Island_Cache_BasicInfo::getBasicMC();
		$key = 'robot:u:list';
		$cache->delete($key);
		for($i=1;$i<=500;$i++){
			$list[$i] = 's'.$i; 
		}
		$cache->set($key,$list);
		foreach($uidlist as $uid){
			$list = $cache->get($key);
			$gidk = array_rand($list,1);
			$gid = $list[$gidk];
			unset($list[$gidk]);
			$cache->set($key,$list);
			Hapyfish2_Island_Tool_Robot::dumpInitIsland($uid, $gid);
		}
		
		echo 'OK';
		exit;	
}
catch (Exception $e) {
	err_log($e->getMessage());
}